(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,...h},x)=>(0,r.createElement)("svg",{ref:x,...i,width:l,height:l,stroke:s,strokeWidth:o?24*Number(n)/Number(l):n,className:["lucide",`lucide-${a(e)}`,c].join(" "),...h},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},9865:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1392:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7901:function(e,t,s){Promise.resolve().then(s.bind(s,6198))},6198:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var r=s(7437),i=s(2265),a=s(1392),l=s(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,l.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);var o=s(1827),c=s(9865),d=s(6637);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,l.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),x=(0,l.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var m=s(826);function u(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t;let s=e.current;if(!s)return;let r=s.getContext("2d");if(!r)return;let i=()=>{s.width=window.innerWidth,s.height=window.innerHeight};i(),window.addEventListener("resize",i);class a{update(e,t){this.x+=this.speedX,this.y+=this.speedY,this.x>e&&(this.x=0),this.x<0&&(this.x=e),this.y>t&&(this.y=0),this.y<0&&(this.y=t)}draw(){r&&(r.fillStyle="rgba(".concat(this.color,", ").concat(this.opacity,")"),r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill())}constructor(e,t){this.x=Math.random()*e,this.y=Math.random()*t,this.size=3*Math.random()+1,this.speedX=(Math.random()-.5)*.5,this.speedY=(Math.random()-.5)*.5,this.opacity=.5*Math.random()+.2;let s=["99, 102, 241","139, 92, 246","59, 130, 246","168, 85, 247"];this.color=s[Math.floor(Math.random()*s.length)]}}let l=[];for(let e=0;e<100;e++)l.push(new a(s.width,s.height));let n=e=>{if(!r)return;let t=.02*e%50;r.strokeStyle="rgba(99, 102, 241, 0.1)",r.lineWidth=1;for(let e=0;e<s.width;e+=50)r.beginPath(),r.moveTo(e,0),r.lineTo(e,s.height),r.stroke();for(let e=-50;e<s.height;e+=50)r.beginPath(),r.moveTo(0,e+t),r.lineTo(s.width,e+t),r.stroke()},o=e=>{r&&[{x:.2,y:.3,size:300,color:"99, 102, 241"},{x:.8,y:.7,size:400,color:"139, 92, 246"},{x:.5,y:.5,size:350,color:"59, 130, 246"}].forEach((t,i)=>{let a=s.width*t.x+100*Math.sin(.001*e+i),l=s.height*t.y+100*Math.cos(.001*e+i),n=r.createRadialGradient(a,l,0,a,l,t.size);n.addColorStop(0,"rgba(".concat(t.color,", 0.15)")),n.addColorStop(.5,"rgba(".concat(t.color,", 0.05)")),n.addColorStop(1,"rgba(".concat(t.color,", 0)")),r.fillStyle=n,r.fillRect(0,0,s.width,s.height)})},c=()=>{if(r)for(let e=0;e<l.length;e++)for(let t=e+1;t<l.length;t++){let s=l[e].x-l[t].x,i=l[e].y-l[t].y,a=Math.sqrt(s*s+i*i);a<150&&(r.strokeStyle="rgba(99, 102, 241, ".concat(.2*(1-a/150),")"),r.lineWidth=1,r.beginPath(),r.moveTo(l[e].x,l[e].y),r.lineTo(l[t].x,l[t].y),r.stroke())}},d=Date.now(),h=()=>{let e=Date.now()-d;r.fillStyle="rgba(15, 23, 42, 1)",r.fillRect(0,0,s.width,s.height),n(e),o(e),l.forEach(e=>{e.update(s.width,s.height),e.draw()}),c(),t=requestAnimationFrame(h)};return h(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(t)}},[]),(0,r.jsx)("canvas",{ref:e,className:"fixed inset-0 -z-10",style:{background:"linear-gradient(to bottom, #0f172a, #1e1b4b)"}})}function p(){let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await m.x.listResults();t(e)}catch(e){console.error("Failed to load history:",e)}finally{l(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,r.jsx)(u,{}),(0,r.jsx)("header",{className:"relative bg-white/10 backdrop-blur-md border-b border-white/20 shadow-lg",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.Z,{className:"w-8 h-8 text-indigo-400"}),(0,r.jsx)(n,{className:"w-4 h-4 text-yellow-400 absolute -top-1 -right-1 animate-pulse"})]}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"EvoNarrator"})]})})}),(0,r.jsxs)("main",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-12",children:[(0,r.jsx)("h2",{className:"text-5xl font-bold text-white mb-4 animate-fade-in",children:"论文演化脉络知识图谱构建系统"}),(0,r.jsx)("p",{className:"text-xl text-indigo-200 mb-8 animate-fade-in-delay",children:"基于深度分析的论文知识图谱构建与演化路径可视化"}),(0,r.jsxs)("a",{href:"/pipeline/new",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl hover:from-indigo-600 hover:to-purple-700 transition-all duration-300 text-lg font-semibold shadow-lg hover:shadow-xl hover:scale-105 transform",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 mr-2"}),"开始分析"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 transform group",children:[(0,r.jsx)(c.Z,{className:"w-10 h-10 text-indigo-400 mb-4 group-hover:scale-110 transition-transform"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"论文搜索"}),(0,r.jsx)("p",{className:"text-indigo-200 text-sm",children:"智能搜索相关论文，支持滚雪球检索和引用网络构建"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 transform group",children:[(0,r.jsx)(a.Z,{className:"w-10 h-10 text-purple-400 mb-4 group-hover:scale-110 transition-transform"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"知识图谱"}),(0,r.jsx)("p",{className:"text-indigo-200 text-sm",children:"构建论文间的引用关系网络，可视化研究演化路径"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 transform group",children:[(0,r.jsx)(d.Z,{className:"w-10 h-10 text-blue-400 mb-4 group-hover:scale-110 transition-transform"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"深度调研"}),(0,r.jsx)("p",{className:"text-indigo-200 text-sm",children:"提取论文深度语义PMLF, 并分析引用论文之间的逻辑关系"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105 transform group",children:[(0,r.jsx)(h,{className:"w-10 h-10 text-yellow-400 mb-4 group-hover:scale-110 transition-transform"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2 text-white",children:"研究想法"}),(0,r.jsx)("p",{className:"text-indigo-200 text-sm",children:"生成叙事性演化脉络，并生成新的科研假设"})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-8 mb-12",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold mb-6 text-white",children:"系统架构"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{phase:"Phase 1",name:"论文搜索",desc:"搜索和筛选相关论文"},{phase:"Phase 2",name:"PDF下载",desc:"下载论文PDF文件"},{phase:"Phase 3",name:"论文分析",desc:"DeepPaper多智能体分析"},{phase:"Phase 4",name:"引用类型",desc:"推断引用关系类型"},{phase:"Phase 5",name:"图谱构建",desc:"构建知识图谱"},{phase:"Phase 6",name:"深度调研",desc:"生成调研报告"},{phase:"Phase 7",name:"研究想法",desc:"生成研究想法"},{phase:"Phase 8",name:"结果输出",desc:"保存和可视化结果"}].map((e,t)=>(0,r.jsxs)("div",{className:"border-l-4 border-indigo-400 pl-4 py-2 hover:border-purple-400 transition-colors",children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-indigo-300",children:e.phase}),(0,r.jsx)("div",{className:"text-lg font-bold text-white",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-indigo-200",children:e.desc})]},t))})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-xl shadow-xl p-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("h3",{className:"text-2xl font-bold flex items-center text-white",children:[(0,r.jsx)(x,{className:"w-6 h-6 mr-2"}),"历史分析记录"]}),e.length>0&&(0,r.jsx)("a",{href:"/results",className:"text-indigo-300 hover:text-indigo-200 hover:underline transition",children:"查看全部 →"})]}),s?(0,r.jsx)("div",{className:"text-center py-8 text-indigo-200",children:"加载中..."}):0===e.length?(0,r.jsxs)("div",{className:"text-center py-8 text-indigo-200",children:["暂无历史记录，",(0,r.jsx)("a",{href:"/pipeline/new",className:"text-indigo-300 hover:underline",children:"开始第一个分析"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.slice(0,6).map(e=>{let t=new Date(e.created_at),s=t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),i=t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("a",{href:"/#/results/".concat(e.task_id),className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group hover:bg-white/10 hover:scale-105 transform",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-500/80 to-purple-600/80 p-4",children:(0,r.jsx)("h4",{className:"text-base font-bold text-white line-clamp-2 group-hover:line-clamp-none transition-all",children:e.topic})}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-7 h-7 bg-blue-400/20 rounded-lg",children:(0,r.jsx)(d.Z,{className:"w-3.5 h-3.5 text-blue-300"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-indigo-300",children:"论文数量"}),(0,r.jsxs)("div",{className:"text-sm font-semibold text-white",children:[e.paper_count," 篇"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-7 h-7 bg-purple-400/20 rounded-lg",children:(0,r.jsx)(x,{className:"w-3.5 h-3.5 text-purple-300"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-indigo-300",children:"创建时间"}),(0,r.jsxs)("div",{className:"text-sm font-semibold text-white",children:[s," ",i]})]})]})]}),(0,r.jsx)("div",{className:"mt-4 pt-3 border-t border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-indigo-300 font-medium group-hover:text-indigo-200",children:[(0,r.jsx)("span",{className:"text-sm",children:"查看详情"}),(0,r.jsx)("span",{className:"transform group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]},e.task_id)})})]})]})]})}},826:function(e,t,s){"use strict";s.d(t,{x:function(){return i}});class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),r=await fetch(s,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok)throw Error((await r.json().catch(()=>({detail:r.statusText}))).detail||"HTTP error! status: ".concat(r.status));return r.json()}async startPipeline(e){return this.request("/api/pipeline/start",{method:"POST",body:JSON.stringify(e)})}async getTaskStatus(e){return this.request("/api/pipeline/status/".concat(e))}async listResults(){return this.request("/api/results")}async getResult(e){return this.request("/api/results/".concat(e))}async getPapers(e){return this.request("/api/results/".concat(e,"/papers"))}async getGraphData(e){return this.request("/api/results/".concat(e,"/graph"))}async getSurvey(e){return this.request("/api/results/".concat(e,"/survey"))}async getIdeas(e){return this.request("/api/results/".concat(e,"/ideas"))}getVisualizationUrl(e){return this.baseUrl?"".concat(this.baseUrl,"/api/results/").concat(e,"/visualization"):"/api/results/".concat(e,"/visualization")}getWebSocketUrl(e){if(!this.baseUrl){let t="https:"===window.location.protocol?"wss":"ws",s=window.location.host;return"".concat(t,"://").concat(s,"/api/pipeline/logs/").concat(e)}let t=this.baseUrl.startsWith("https")?"wss":"ws",s=this.baseUrl.replace(/^https?/,t);return"".concat(s,"/api/pipeline/logs/").concat(e)}constructor(e="http://47.102.99.87:8000"){this.baseUrl=e}}let i=new r},622:function(e,t,s){"use strict";var r=s(2265),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,n=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,d=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:n.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=7901)}),_N_E=e.O()}]);