(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:h,...d},u)=>(0,r.createElement)("svg",{ref:u,...i,width:n,height:n,stroke:s,strokeWidth:l?24*Number(o)/Number(n):o,className:["lucide",`lucide-${a(e)}`,c].join(" "),...d},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(h)?h:[h]]));return s.displayName=`${e}`,s}},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7480:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2649:function(e,t,s){Promise.resolve().then(s.bind(s,1506))},8659:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var r=s(7437),i=s(2265);function a(){let e=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let t;let s=e.current;if(!s)return;let r=s.getContext("2d");if(!r)return;let i=()=>{s.width=window.innerWidth,s.height=window.innerHeight};i(),window.addEventListener("resize",i);class a{update(e,t){this.x+=this.speedX,this.y+=this.speedY,this.x>e&&(this.x=0),this.x<0&&(this.x=e),this.y>t&&(this.y=0),this.y<0&&(this.y=t)}draw(){r&&(r.fillStyle="rgba(".concat(this.color,", ").concat(this.opacity,")"),r.beginPath(),r.arc(this.x,this.y,this.size,0,2*Math.PI),r.fill())}constructor(e,t){this.x=Math.random()*e,this.y=Math.random()*t,this.size=3*Math.random()+1,this.speedX=(Math.random()-.5)*.5,this.speedY=(Math.random()-.5)*.5,this.opacity=.5*Math.random()+.2;let s=["99, 102, 241","139, 92, 246","59, 130, 246","168, 85, 247"];this.color=s[Math.floor(Math.random()*s.length)]}}let n=[];for(let e=0;e<100;e++)n.push(new a(s.width,s.height));let o=e=>{if(!r)return;let t=.02*e%50;r.strokeStyle="rgba(99, 102, 241, 0.1)",r.lineWidth=1;for(let e=0;e<s.width;e+=50)r.beginPath(),r.moveTo(e,0),r.lineTo(e,s.height),r.stroke();for(let e=-50;e<s.height;e+=50)r.beginPath(),r.moveTo(0,e+t),r.lineTo(s.width,e+t),r.stroke()},l=e=>{r&&[{x:.2,y:.3,size:300,color:"99, 102, 241"},{x:.8,y:.7,size:400,color:"139, 92, 246"},{x:.5,y:.5,size:350,color:"59, 130, 246"}].forEach((t,i)=>{let a=s.width*t.x+100*Math.sin(.001*e+i),n=s.height*t.y+100*Math.cos(.001*e+i),o=r.createRadialGradient(a,n,0,a,n,t.size);o.addColorStop(0,"rgba(".concat(t.color,", 0.15)")),o.addColorStop(.5,"rgba(".concat(t.color,", 0.05)")),o.addColorStop(1,"rgba(".concat(t.color,", 0)")),r.fillStyle=o,r.fillRect(0,0,s.width,s.height)})},c=()=>{if(r)for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++){let s=n[e].x-n[t].x,i=n[e].y-n[t].y,a=Math.sqrt(s*s+i*i);a<150&&(r.strokeStyle="rgba(99, 102, 241, ".concat(.2*(1-a/150),")"),r.lineWidth=1,r.beginPath(),r.moveTo(n[e].x,n[e].y),r.lineTo(n[t].x,n[t].y),r.stroke())}},h=Date.now(),d=()=>{let e=Date.now()-h;r.fillStyle="rgba(15, 23, 42, 1)",r.fillRect(0,0,s.width,s.height),o(e),l(e),n.forEach(e=>{e.update(s.width,s.height),e.draw()}),c(),t=requestAnimationFrame(d)};return d(),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(t)}},[]),(0,r.jsx)("canvas",{ref:e,className:"fixed inset-0 -z-10",style:{background:"linear-gradient(to bottom, #0f172a, #1e1b4b)"}})}},1506:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(7437),i=s(2265),a=s(7480),n=s(1827),o=s(6637);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,s(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var c=s(826),h=s(8659);function d(){let[e,t]=(0,i.useState)([]),[s,d]=(0,i.useState)(!0),[u,x]=(0,i.useState)("");(0,i.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await c.x.listResults();t(e)}catch(e){console.error("Failed to load results:",e)}finally{d(!1)}},m=e.filter(e=>e.topic.toLowerCase().includes(u.toLowerCase()));return(0,r.jsxs)("div",{className:"min-h-screen relative overflow-hidden",children:[(0,r.jsx)(h.Z,{}),(0,r.jsxs)("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-white",children:"历史分析记录"}),(0,r.jsxs)("a",{href:"/",className:"flex items-center space-x-2 px-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 text-white hover:bg-white/20 rounded-lg transition",children:[(0,r.jsx)(a.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"返回主页"})]})]}),(0,r.jsxs)("div",{className:"relative max-w-md",children:[(0,r.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-indigo-300 w-5 h-5"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索主题...",value:u,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 backdrop-blur-md border border-white/20 rounded-lg text-white placeholder-indigo-300 focus:ring-2 focus:ring-indigo-400 focus:bg-white/20 transition"})]})]}),s?(0,r.jsx)("div",{className:"text-center py-12 text-indigo-200",children:"加载中..."}):0===m.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-indigo-200 mb-4",children:u?"未找到匹配的结果":"暂无历史记录"}),(0,r.jsx)("a",{href:"/pipeline/new",className:"inline-block px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:from-indigo-600 hover:to-purple-700 transition shadow-lg hover:shadow-xl",children:"创建新分析"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(e=>{let t=new Date(e.created_at),s=t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),i=t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("a",{href:"/#/results/".concat(e.task_id),className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden group hover:bg-white/10 hover:scale-105 transform",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-500/80 to-purple-600/80 p-4",children:(0,r.jsx)("h3",{className:"text-lg font-bold text-white line-clamp-2 group-hover:line-clamp-none transition-all",children:e.topic})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-400/20 rounded-lg",children:(0,r.jsx)(o.Z,{className:"w-4 h-4 text-blue-300"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-indigo-300",children:"论文数量"}),(0,r.jsxs)("div",{className:"text-sm font-semibold text-white",children:[e.paper_count," 篇"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-400/20 rounded-lg",children:(0,r.jsx)(l,{className:"w-4 h-4 text-purple-300"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-indigo-300",children:"创建时间"}),(0,r.jsxs)("div",{className:"text-sm font-semibold text-white",children:[s," ",i]})]})]})]}),(0,r.jsx)("div",{className:"mt-5 pt-4 border-t border-white/10",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-indigo-300 font-medium group-hover:text-indigo-200",children:[(0,r.jsx)("span",{children:"查看详情"}),(0,r.jsx)("span",{className:"transform group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]},e.task_id)})})]})]})}},826:function(e,t,s){"use strict";s.d(t,{x:function(){return i}});class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),r=await fetch(s,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok)throw Error((await r.json().catch(()=>({detail:r.statusText}))).detail||"HTTP error! status: ".concat(r.status));return r.json()}async startPipeline(e){return this.request("/api/pipeline/start",{method:"POST",body:JSON.stringify(e)})}async getTaskStatus(e){return this.request("/api/pipeline/status/".concat(e))}async listResults(){return this.request("/api/results")}async getResult(e){return this.request("/api/results/".concat(e))}async getPapers(e){return this.request("/api/results/".concat(e,"/papers"))}async getGraphData(e){return this.request("/api/results/".concat(e,"/graph"))}async getSurvey(e){return this.request("/api/results/".concat(e,"/survey"))}async getIdeas(e){return this.request("/api/results/".concat(e,"/ideas"))}getVisualizationUrl(e){return this.baseUrl?"".concat(this.baseUrl,"/api/results/").concat(e,"/visualization"):"/api/results/".concat(e,"/visualization")}getWebSocketUrl(e){if(!this.baseUrl){let t="https:"===window.location.protocol?"wss":"ws",s=window.location.host;return"".concat(t,"://").concat(s,"/api/pipeline/logs/").concat(e)}let t=this.baseUrl.startsWith("https")?"wss":"ws",s=this.baseUrl.replace(/^https?/,t);return"".concat(s,"/api/pipeline/logs/").concat(e)}constructor(e="http://47.102.99.87:8000"){this.baseUrl=e}}let i=new r},622:function(e,t,s){"use strict";var r=s(2265),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,a={},c=null,h=null;for(r in void 0!==s&&(c=""+s),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)n.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:h,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=2649)}),_N_E=e.O()}]);