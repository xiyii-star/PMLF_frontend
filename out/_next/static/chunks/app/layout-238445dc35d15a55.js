(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2898:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,...x},h)=>(0,a.createElement)("svg",{ref:h,...r,width:i,height:i,stroke:t,strokeWidth:c?24*Number(n)/Number(i):n,className:["lucide",`lucide-${l(e)}`,d].join(" "),...x},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(o)?o:[o]]));return t.displayName=`${e}`,t}},9865:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},6637:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7480:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},6264:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1392:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},9081:function(e,s,t){Promise.resolve().then(t.bind(t,7947)),Promise.resolve().then(t.t.bind(t,6087,23)),Promise.resolve().then(t.t.bind(t,2445,23))},7947:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return k}});var a=t(7437),r=t(2265),l=t(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var n=t(6264);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,l.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),o=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var x=t(826);let h=[{id:"phase1",name:"论文搜索",description:"搜索和筛选相关论文"},{id:"phase2",name:"PDF下载",description:"下载论文PDF文件"},{id:"phase3",name:"论文分析",description:"DeepPaper多智能体分析"},{id:"phase4",name:"引用类型",description:"推断引用关系类型"},{id:"phase5",name:"图谱构建",description:"构建知识图谱"},{id:"phase6",name:"深度调研",description:"生成调研报告"},{id:"phase7",name:"研究想法",description:"生成研究想法"},{id:"phase8",name:"结果输出",description:"保存和可视化结果"}];function m(e){let{taskId:s}=e,[t,l]=(0,r.useState)(null),[m,p]=(0,r.useState)([]),[u,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)("websocket"),j=(0,r.useRef)(null),f=(0,r.useRef)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(!s)return;window.scrollTo({top:0,behavior:"smooth"}),N(),w();let e=setInterval(N,2e3),t=setTimeout(()=>{u||"websocket"!==y||(console.log("WebSocket connection timeout, falling back to polling"),k())},5e3);return()=>{clearInterval(e),clearTimeout(t),j.current&&j.current.close(),b.current&&clearInterval(b.current)}},[s]),(0,r.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[m]),(0,r.useEffect)(()=>{(null==t?void 0:t.status)==="completed"&&setTimeout(()=>{window.location.hash="#/results/".concat(s)},2e3)},[null==t?void 0:t.status,s]);let N=async()=>{try{let e=await x.x.getTaskStatus(s);l(e)}catch(e){console.error("Failed to load status:",e)}},w=()=>{try{let e=x.x.getWebSocketUrl(s),t=new WebSocket(e);t.onopen=()=>{g(!0),v("websocket"),j.current=t},t.onmessage=e=>{let s=JSON.parse(e.data);p(e=>[...e,s])},t.onerror=e=>{console.error("WebSocket error:",e),g(!1)},t.onclose=()=>{g(!1),"websocket"===y&&setTimeout(w,3e3)}}catch(e){console.error("Failed to connect WebSocket:",e)}},k=()=>{console.log("Starting polling mode for logs"),v("polling"),b.current&&clearInterval(b.current),b.current=setInterval(async()=>{try{let e=await fetch("/api/pipeline/logs/".concat(s));if(e.ok){let s=await e.json();s.logs&&Array.isArray(s.logs)&&p(s.logs)}}catch(e){console.error("Failed to poll logs:",e)}},2e3)},_=e=>{if(!t)return"pending";let s=t.progress[e];return s&&s.status||"pending"},S=e=>{switch(_(e)){case"completed":return(0,a.jsx)(i,{className:"w-6 h-6 text-green-500"});case"running":return(0,a.jsx)(n.Z,{className:"w-6 h-6 text-blue-500 animate-spin"});case"failed":return(0,a.jsx)(c,{className:"w-6 h-6 text-red-500"});default:return(0,a.jsx)(d,{className:"w-6 h-6 text-gray-300"})}};return t?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("a",{href:"/",className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(o,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Pipeline 执行中"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["任务 ID: ",s]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat("websocket"===y&&u?"bg-green-500":"polling"===y?"bg-yellow-500":"bg-red-500")}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"websocket"===y&&u?"WebSocket 已连接":"polling"===y?"轮询模式":"连接中..."})]})]})})}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-6",children:"执行进度"}),(0,a.jsx)("div",{className:"space-y-4",children:h.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[S(e.id),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-semibold",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.description}),t.progress[e.id]&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:JSON.stringify(t.progress[e.id],null,2)})]})]},e.id))}),(0,a.jsxs)("div",{className:"mt-6 pt-6 border-t",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"当前状态"}),(0,a.jsxs)("div",{className:"text-lg font-semibold",children:["running"===t.status&&"运行中","completed"===t.status&&"已完成","failed"===t.status&&"失败","pending"===t.status&&"等待中"]}),t.current_phase&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["当前阶段: ",t.current_phase]}),t.error&&(0,a.jsx)("div",{className:"mt-2 text-sm text-red-600 bg-red-50 p-2 rounded",children:t.error}),"completed"===t.status&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("a",{href:"/#/results/".concat(s),className:"block w-full text-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"查看结果 →"})})]})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"实时日志"}),(0,a.jsx)("button",{onClick:()=>p([]),className:"text-sm text-gray-600 hover:text-gray-900",children:"清空"})]}),(0,a.jsxs)("div",{className:"bg-gray-900 text-green-400 font-mono text-sm p-4 rounded-lg h-[600px] overflow-y-auto",children:[0===m.length?(0,a.jsx)("div",{className:"text-gray-500",children:"等待日志输出..."}):m.map((e,s)=>(0,a.jsxs)("div",{className:"mb-1",children:[(0,a.jsxs)("span",{className:"text-gray-500",children:["[",new Date(e.timestamp).toLocaleTimeString(),"]"]})," ",(0,a.jsx)("span",{children:e.message})]},s)),(0,a.jsx)("div",{ref:f})]})]})})]})})]}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 animate-spin text-primary-600"})})}var p=t(6637),u=t(1392),g=t(9865),y=t(7480);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,l.Z)("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);function j(e){let{taskId:s}=e,[t,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[c,d]=(0,r.useState)("overview");(0,r.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"}),s&&h()},[s]);let h=async()=>{try{let e=await x.x.getResult(s);l(e)}catch(e){console.error("Failed to load result:",e)}finally{n(!1)}};if(i)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"加载中..."})]})});if(!t)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"未找到结果"}),(0,a.jsx)("a",{href:"/results",className:"text-primary-600 hover:underline",children:"返回列表"})]})});let m=[{id:"overview",name:"概览",icon:p.Z},{id:"graph",name:"知识图谱",icon:u.Z},{id:"papers",name:"论文列表",icon:g.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("a",{href:"/results",className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(o,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:t.topic||"分析结果"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["任务 ID: ",s]})]})]}),(0,a.jsxs)("a",{href:"/",className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"返回主页"})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"flex space-x-1 overflow-x-auto",children:m.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center space-x-2 px-4 py-3 border-b-2 transition ".concat(c===e.id?"border-primary-600 text-primary-600":"border-transparent text-gray-600 hover:text-gray-900"),children:[(0,a.jsx)(s,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.name})]},e.id)})})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===c&&(0,a.jsx)(f,{result:t,taskId:s,onTabChange:e=>{d(e)}}),"graph"===c&&(0,a.jsx)(b,{taskId:s}),"papers"===c&&(0,a.jsx)(N,{taskId:s})]})]})}function f(e){var s,t,r,l,i,n,c;let{result:d,taskId:o,onTabChange:x}=e;d.files;let h=d.summary||{},m=h.total_papers||(null===(s=d.papers)||void 0===s?void 0:s.length)||0,p=h.graph_nodes||(null===(r=d.graph_data)||void 0===r?void 0:null===(t=r.nodes)||void 0===t?void 0:t.length)||0,y=h.graph_edges||(null===(i=d.graph_data)||void 0===i?void 0:null===(l=i.edges)||void 0===l?void 0:l.length)||0,v=h.successful_analysis||(null===(c=d.papers)||void 0===c?void 0:null===(n=c.filter(e=>e.rag_analysis||e.deep_analysis))||void 0===n?void 0:n.length)||0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-primary-600",children:m}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"总论文数"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:v}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"成功分析"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:p}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"图谱节点"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:y}),(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"图谱边"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-4",children:"快速访问"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("button",{onClick:()=>x("graph"),className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition text-left",children:[(0,a.jsx)(u.Z,{className:"w-6 h-6 text-primary-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"知识图谱"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"查看交互式知识图谱"})]})]}),(0,a.jsxs)("button",{onClick:()=>x("papers"),className:"flex items-center space-x-3 p-4 border rounded-lg hover:bg-gray-50 transition text-left",children:[(0,a.jsx)(g.Z,{className:"w-6 h-6 text-primary-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"论文列表"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"查看所有论文详情"})]})]})]})]})]})}function b(e){let{taskId:s}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"知识图谱可视化"}),(0,a.jsxs)("button",{onClick:()=>{window.open(x.x.getVisualizationUrl(s),"_blank")},className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:[(0,a.jsx)(v,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"全屏查看"})]})]}),(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",style:{height:"calc(100vh - 250px)",minHeight:"600px"},children:(0,a.jsx)("iframe",{src:x.x.getVisualizationUrl(s),className:"w-full h-full border-0",title:"Knowledge Graph Visualization"})})]})}function N(e){let{taskId:s}=e,[t,l]=(0,r.useState)([]),[i,n]=(0,r.useState)(!0),[c,d]=(0,r.useState)(null);(0,r.useEffect)(()=>{o()},[s]);let o=async()=>{try{let e=await x.x.getPapers(s);l(e)}catch(e){console.error("Failed to load papers:",e)}finally{n(!1)}};return i?(0,a.jsx)("div",{className:"text-center py-12 text-gray-500",children:"加载中..."}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["论文列表 (",t.length,")"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[800px] overflow-y-auto",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>d(e),className:"w-full text-left p-3 rounded-lg border transition ".concat((null==c?void 0:c.id)===e.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:bg-gray-50"),children:[(0,a.jsx)("div",{className:"font-semibold text-sm mb-1 line-clamp-2",children:e.title}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:[e.year," \xb7 ",e.cited_by_count," 引用"]})]},e.id))})]})}),(0,a.jsx)("div",{className:"lg:col-span-2",children:c?(0,a.jsx)(w,{paper:c}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center text-gray-500",children:"选择一篇论文查看详情"})})]})}function w(e){let{paper:s}=e,t=s.rag_analysis||s.deep_analysis||{};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:s.title}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[(0,a.jsx)("span",{children:s.year}),(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsxs)("span",{children:[s.cited_by_count," 引用"]}),s.doi&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"\xb7"}),(0,a.jsx)("a",{href:s.doi,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"DOI"})]})]}),s.authors&&(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-600",children:["作者: ",s.authors.join(", ")]})]}),s.abstract&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"摘要"}),(0,a.jsx)("p",{className:"text-gray-700",children:s.abstract})]}),t.problem&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"研究问题"}),(0,a.jsx)("p",{className:"text-gray-700",children:t.problem})]}),t.method&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"方法"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.method})]}),t.limitation&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"局限性"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.limitation})]}),t.future_work&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"未来工作"}),(0,a.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:t.future_work})]})]})}function k(){let[e,s]=(0,r.useState)(null);return((0,r.useEffect)(()=>{let e=()=>{let e=window.location.hash.slice(1);if(!e||"/"===e){s(null);return}let t=e.match(/^\/pipeline\/([^/]+)$/),a=e.match(/^\/results\/([^/]+)$/);t?s({path:"pipeline",id:t[1]}):a?s({path:"results",id:a[1]}):s(null)};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]),e)?"pipeline"===e.path&&e.id?(0,a.jsx)(m,{taskId:e.id}):"results"===e.path&&e.id?(0,a.jsx)(j,{taskId:e.id}):null:null}},826:function(e,s,t){"use strict";t.d(s,{x:function(){return r}});class a{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(this.baseUrl).concat(e),a=await fetch(t,{...s,headers:{"Content-Type":"application/json",...s.headers}});if(!a.ok)throw Error((await a.json().catch(()=>({detail:a.statusText}))).detail||"HTTP error! status: ".concat(a.status));return a.json()}async startPipeline(e){return this.request("/api/pipeline/start",{method:"POST",body:JSON.stringify(e)})}async getTaskStatus(e){return this.request("/api/pipeline/status/".concat(e))}async listResults(){return this.request("/api/results")}async getResult(e){return this.request("/api/results/".concat(e))}async getPapers(e){return this.request("/api/results/".concat(e,"/papers"))}async getGraphData(e){return this.request("/api/results/".concat(e,"/graph"))}async getSurvey(e){return this.request("/api/results/".concat(e,"/survey"))}async getIdeas(e){return this.request("/api/results/".concat(e,"/ideas"))}getVisualizationUrl(e){return this.baseUrl?"".concat(this.baseUrl,"/api/results/").concat(e,"/visualization"):"/api/results/".concat(e,"/visualization")}getWebSocketUrl(e){if(!this.baseUrl){let s="https:"===window.location.protocol?"wss":"ws",t=window.location.host;return"".concat(s,"://").concat(t,"/api/pipeline/logs/").concat(e)}let s=this.baseUrl.startsWith("https")?"wss":"ws",t=this.baseUrl.replace(/^https?/,s);return"".concat(t,"/api/pipeline/logs/").concat(e)}constructor(e="http://47.102.99.87:8000"){this.baseUrl=e}}let r=new a},2445:function(){},6087:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3'",fontStyle:"normal"},className:"__className_f367f3"}},622:function(e,s,t){"use strict";var a=t(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,t){var a,l={},d=null,o=null;for(a in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(o=s.ref),s)i.call(s,a)&&!c.hasOwnProperty(a)&&(l[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===l[a]&&(l[a]=s[a]);return{$$typeof:r,type:e,key:d,ref:o,props:l,_owner:n.current}}s.Fragment=l,s.jsx=d,s.jsxs=d},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=9081)}),_N_E=e.O()}]);