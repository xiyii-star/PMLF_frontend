(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2898:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var a=t(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,s)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:d="",children:o,...h},m)=>(0,a.createElement)("svg",{ref:m,...r,width:l,height:l,stroke:t,strokeWidth:c?24*Number(n)/Number(l):n,className:["lucide",`lucide-${i(e)}`,d].join(" "),...h},[...s.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(o)?o:[o]]));return t.displayName=`${e}`,t}},9865:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},6637:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},1392:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},1827:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},7901:function(e,s,t){Promise.resolve().then(t.bind(t,1173))},1173:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var a=t(7437),r=t(2265),i=t(1392),l=t(1827),n=t(9865),c=t(6637),d=t(2898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),h=(0,d.Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var m=t(826);function x(){let[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{x()},[]);let x=async()=>{try{let e=await m.x.listResults();s(e)}catch(e){console.error("Failed to load history:",e)}finally{d(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,a.jsx)("header",{className:"bg-white shadow-sm",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(i.Z,{className:"w-8 h-8 text-primary-600"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"EvoNarrator"})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsx)("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"论文演化脉络知识图谱构建系统"}),(0,a.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"基于深度分析的论文知识图谱构建与演化路径可视化"}),(0,a.jsxs)("a",{href:"/pipeline/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition text-lg",children:[(0,a.jsx)(l.Z,{className:"w-5 h-5 mr-2"}),"开始分析"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)(n.Z,{className:"w-10 h-10 text-primary-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"论文搜索"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"智能搜索相关论文，支持滚雪球检索和引用网络构建"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)(i.Z,{className:"w-10 h-10 text-primary-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"知识图谱"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"构建论文间的引用关系网络，可视化研究演化路径"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)(c.Z,{className:"w-10 h-10 text-primary-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"深度调研"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"提取论文深度语义PMLF, 并分析引用论文之间的逻辑关系"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,a.jsx)(o,{className:"w-10 h-10 text-primary-600 mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"研究想法"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"生成叙事性演化脉络，并生成新的科研假设"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 mb-12",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"系统架构"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{phase:"Phase 1",name:"论文搜索",desc:"搜索和筛选相关论文"},{phase:"Phase 2",name:"PDF下载",desc:"下载论文PDF文件"},{phase:"Phase 3",name:"论文分析",desc:"DeepPaper多智能体分析"},{phase:"Phase 4",name:"引用类型",desc:"推断引用关系类型"},{phase:"Phase 5",name:"图谱构建",desc:"构建知识图谱"},{phase:"Phase 6",name:"深度调研",desc:"生成调研报告"},{phase:"Phase 7",name:"研究想法",desc:"生成研究想法"},{phase:"Phase 8",name:"结果输出",desc:"保存和可视化结果"}].map((e,s)=>(0,a.jsxs)("div",{className:"border-l-4 border-primary-500 pl-4 py-2",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-primary-600",children:e.phase}),(0,a.jsx)("div",{className:"text-lg font-bold",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:e.desc})]},s))})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-2xl font-bold flex items-center",children:[(0,a.jsx)(h,{className:"w-6 h-6 mr-2"}),"历史分析记录"]}),e.length>0&&(0,a.jsx)("a",{href:"/results",className:"text-primary-600 hover:underline",children:"查看全部 →"})]}),t?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"加载中..."}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:["暂无历史记录，",(0,a.jsx)("a",{href:"/pipeline/new",className:"text-primary-600 hover:underline",children:"开始第一个分析"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.slice(0,6).map(e=>{let s=new Date(e.created_at),t=s.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),r=s.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("a",{href:"/#/results/".concat(e.task_id),className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4",children:(0,a.jsx)("h4",{className:"text-base font-bold text-white line-clamp-2 group-hover:line-clamp-none transition-all",children:e.topic})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-7 h-7 bg-blue-100 rounded-lg",children:(0,a.jsx)(c.Z,{className:"w-3.5 h-3.5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"论文数量"}),(0,a.jsxs)("div",{className:"text-sm font-semibold",children:[e.paper_count," 篇"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-7 h-7 bg-purple-100 rounded-lg",children:(0,a.jsx)(h,{className:"w-3.5 h-3.5 text-purple-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"创建时间"}),(0,a.jsxs)("div",{className:"text-sm font-semibold",children:[t," ",r]})]})]})]}),(0,a.jsx)("div",{className:"mt-4 pt-3 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-primary-600 font-medium group-hover:text-primary-700",children:[(0,a.jsx)("span",{className:"text-sm",children:"查看详情"}),(0,a.jsx)("span",{className:"transform group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]},e.task_id)})})]})]})]})}},826:function(e,s,t){"use strict";t.d(s,{x:function(){return r}});class a{async request(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(this.baseUrl).concat(e),a=await fetch(t,{...s,headers:{"Content-Type":"application/json",...s.headers}});if(!a.ok)throw Error((await a.json().catch(()=>({detail:a.statusText}))).detail||"HTTP error! status: ".concat(a.status));return a.json()}async startPipeline(e){return this.request("/api/pipeline/start",{method:"POST",body:JSON.stringify(e)})}async getTaskStatus(e){return this.request("/api/pipeline/status/".concat(e))}async listResults(){return this.request("/api/results")}async getResult(e){return this.request("/api/results/".concat(e))}async getPapers(e){return this.request("/api/results/".concat(e,"/papers"))}async getGraphData(e){return this.request("/api/results/".concat(e,"/graph"))}async getSurvey(e){return this.request("/api/results/".concat(e,"/survey"))}async getIdeas(e){return this.request("/api/results/".concat(e,"/ideas"))}getVisualizationUrl(e){return this.baseUrl?"".concat(this.baseUrl,"/api/results/").concat(e,"/visualization"):"/api/results/".concat(e,"/visualization")}getWebSocketUrl(e){if(!this.baseUrl){let s="https:"===window.location.protocol?"wss":"ws",t=window.location.host;return"".concat(s,"://").concat(t,"/api/pipeline/logs/").concat(e)}let s=this.baseUrl.startsWith("https")?"wss":"ws",t=this.baseUrl.replace(/^https?/,s);return"".concat(t,"/api/pipeline/logs/").concat(e)}constructor(e="http://47.102.99.87:8000"){this.baseUrl=e}}let r=new a},622:function(e,s,t){"use strict";var a=t(2265),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,s,t){var a,i={},d=null,o=null;for(a in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(o=s.ref),s)l.call(s,a)&&!c.hasOwnProperty(a)&&(i[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===i[a]&&(i[a]=s[a]);return{$$typeof:r,type:e,key:d,ref:o,props:i,_owner:n.current}}s.Fragment=i,s.jsx=d,s.jsxs=d},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=7901)}),_N_E=e.O()}]);