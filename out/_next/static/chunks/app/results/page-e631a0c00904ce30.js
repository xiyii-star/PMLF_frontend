(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let s=(0,r.forwardRef)(({color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,...u},h)=>(0,r.createElement)("svg",{ref:h,...a,width:n,height:n,stroke:s,strokeWidth:c?24*Number(l)/Number(n):l,className:["lucide",`lucide-${i(e)}`,o].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return s.displayName=`${e}`,s}},6637:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7480:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},1827:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(2898).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2649:function(e,t,s){Promise.resolve().then(s.bind(s,1506))},1506:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(7437),a=s(2265),i=s(7480),n=s(1827),l=s(6637);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,s(2898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);var o=s(826);function d(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)("");(0,a.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await o.x.listResults();t(e)}catch(e){console.error("Failed to load results:",e)}finally{d(!1)}},x=e.filter(e=>e.topic.toLowerCase().includes(u.toLowerCase()));return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"历史分析记录"}),(0,r.jsxs)("a",{href:"/",className:"flex items-center space-x-2 px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",children:[(0,r.jsx)(i.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"返回主页"})]})]}),(0,r.jsxs)("div",{className:"relative max-w-md",children:[(0,r.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,r.jsx)("input",{type:"text",placeholder:"搜索主题...",value:u,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]})]}),s?(0,r.jsx)("div",{className:"text-center py-12 text-gray-500",children:"加载中..."}):0===x.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:u?"未找到匹配的结果":"暂无历史记录"}),(0,r.jsx)("a",{href:"/pipeline/new",className:"inline-block px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition",children:"创建新分析"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(e=>{let t=new Date(e.created_at),s=t.toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit"}),a=t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("a",{href:"/#/results/".concat(e.task_id),className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4",children:(0,r.jsx)("h3",{className:"text-lg font-bold text-white line-clamp-2 group-hover:line-clamp-none transition-all",children:e.topic})}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-lg",children:(0,r.jsx)(l.Z,{className:"w-4 h-4 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"论文数量"}),(0,r.jsxs)("div",{className:"text-sm font-semibold",children:[e.paper_count," 篇"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-gray-700",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-purple-100 rounded-lg",children:(0,r.jsx)(c,{className:"w-4 h-4 text-purple-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"创建时间"}),(0,r.jsxs)("div",{className:"text-sm font-semibold",children:[s," ",a]})]})]})]}),(0,r.jsx)("div",{className:"mt-5 pt-4 border-t border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-primary-600 font-medium group-hover:text-primary-700",children:[(0,r.jsx)("span",{children:"查看详情"}),(0,r.jsx)("span",{className:"transform group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]},e.task_id)})})]})})}},826:function(e,t,s){"use strict";s.d(t,{x:function(){return a}});class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseUrl).concat(e),r=await fetch(s,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!r.ok)throw Error((await r.json().catch(()=>({detail:r.statusText}))).detail||"HTTP error! status: ".concat(r.status));return r.json()}async startPipeline(e){return this.request("/api/pipeline/start",{method:"POST",body:JSON.stringify(e)})}async getTaskStatus(e){return this.request("/api/pipeline/status/".concat(e))}async listResults(){return this.request("/api/results")}async getResult(e){return this.request("/api/results/".concat(e))}async getPapers(e){return this.request("/api/results/".concat(e,"/papers"))}async getGraphData(e){return this.request("/api/results/".concat(e,"/graph"))}async getSurvey(e){return this.request("/api/results/".concat(e,"/survey"))}async getIdeas(e){return this.request("/api/results/".concat(e,"/ideas"))}getVisualizationUrl(e){return this.baseUrl?"".concat(this.baseUrl,"/api/results/").concat(e,"/visualization"):"/api/results/".concat(e,"/visualization")}getWebSocketUrl(e){if(!this.baseUrl){let t="https:"===window.location.protocol?"wss":"ws",s=window.location.host;return"".concat(t,"://").concat(s,"/api/pipeline/logs/").concat(e)}let t=this.baseUrl.startsWith("https")?"wss":"ws",s=this.baseUrl.replace(/^https?/,t);return"".concat(s,"/api/pipeline/logs/").concat(e)}constructor(e="http://47.102.99.87:8000"){this.baseUrl=e}}let a=new r},622:function(e,t,s){"use strict";var r=s(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,s){var r,i={},o=null,d=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)n.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:o,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=o,t.jsxs=o},7437:function(e,t,s){"use strict";e.exports=s(622)}},function(e){e.O(0,[971,938,744],function(){return e(e.s=2649)}),_N_E=e.O()}]);